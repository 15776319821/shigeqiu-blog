## SQL 优化



1. 对查询进行优化，要尽量避免全表扫描，首先应考虑在 where 及 order by 涉及的列上建立索引。
1. 应尽量避免在 where 子句中对字段进行 null 值判断，否则将导致引擎放弃使用索引而进行全表扫描
1. 尽可能的使用 `varchar`/`nvarchar` 代替 `char`/`nchar` ，因为首先变长字段存储空间小，可以节省存储空间，其次对于查询来说，在一个相对较小的字段内搜索效率显然要高些。
1. 尽量使用数字型字段，若只含数值信息的字段尽量不要设计为字符型，这会降低查询和连接的性能，并会增加存储开销。这是因为引擎在处理查询和连 接时会逐个比较字符串中每一个字符，而对于数字型而言只需要比较一次就够了。
1. 对于多张大数据量（这里几百条就算大了）的表JOIN，要先分页再JOIN，否则逻辑读会很高，性能很差。
1. where 子句中要慎用 `!=`、`<>`、`or`、`like`、`not in` ，否则会导致不会使用索引将进行全表扫描
2. 如果排序字段没有用到索引，就尽量少排序
3. 当只需要一条数据的时候，使用`limit 1` ， 这是为了使 EXPLAIN 中 type 列达到 const 类型