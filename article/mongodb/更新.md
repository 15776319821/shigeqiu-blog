# 更新

<!-- TOC -->

- [更新](#更新)
    - [更新操作符](#更新操作符)
    - [数组操作符](#数组操作符)
    - [数组运算符修饰符](#数组运算符修饰符)
    - [隔离运算符](#隔离运算符)

<!-- /TOC -->

## 更新操作符

| 操作符  | 说明  |
|---|---|
| $inc  | 根据给定的值增加字段  |
| $set  | 设置字段为给定的值  |
| $unset  | 取消设置字段  |
| $rename  | 重命名字段为给定的值  |
| $setOnInsert  | 在upsert中，只在插入时设置字段  |
| $bit  | 只执行按位更新字段  |

## 数组操作符

| 数组操作符  | 说明  |
|---|---|
| $  | 根据查询选择器定位要更新的子文档  |
| $push  | 添加值到数组中，重复了也不处理  | 
| $pushAll  | 添加数组到一个数组中，过期，被$each取代  |
| $addToSet  | 添加值到数组中，确保没有重复项 |
| $pop  | 从数组中删除第一个或者最后一个值  |
| $pull  | 从数组中删除匹配查询条件的值  |
| $pullAll  | 从数组中删除多个值  |

## 数组运算符修饰符

| 数组运算符修饰符  | 说明  |
|---|---|
| $each  | 与$push和$addToSet一起使用来操作多个值  |
| $slice  | 与$push和$each一起使用来缩小更新后数组的大小  |
| $sort  | 与$push,$each,$slice一起来排序数组中的子文档  |

## 隔离运算符

| 隔离运算符  | 说明  |
|---|---|
| $isolated  | 隔离其他操作，不允许其他操作交叉更新多个文档  |

